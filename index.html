<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Taroteker – Zengin Fal</title>
<link href="https://fonts.googleapis.com/css2?family=MedievalSharp&display=swap" rel="stylesheet">
<style>
body {margin:0; font-family:'MedievalSharp',cursive; background:linear-gradient(135deg,#0d0d0d,#1a1a1a,#0f0f0f); color:#fff; display:flex; flex-direction:column; align-items:center; min-height:100vh;}
h1 {margin-top:20px;font-size:2.8rem;text-shadow:0 0 15px #0ff,0 0 30px #0ff,0 0 45px #0ff;color:#0ff;}
#input-container {margin-top:15px; display:flex; flex-direction: column; align-items:center;}
input, select, button, textarea {margin:5px; padding:8px 12px; border-radius:6px; border:none; font-size:16px;}
button {cursor:pointer; background:#0ff; color:#000; font-weight:bold; transition:0.3s;}
button:hover {background:#0aa;}
#tarot-container {margin-top:30px; display:grid; grid-template-columns: repeat(auto-fit,minmax(120px,1fr)); gap:15px; justify-items:center;}
.card {width:120px; height:190px; border-radius:12px; background:url('https://i.ibb.co/Fz6r9Xx/tarot-backface.png') no-repeat center/cover; display:flex; align-items:center; justify-content:center; cursor:pointer; transition: transform 0.8s, box-shadow 0.5s; box-shadow:0 10px 25px rgba(0,255,255,0.3); color:#0ff; text-shadow:0 0 5px #000; font-size:14px;}
.card.flipped {transform: rotateY(180deg) scale(1.1); box-shadow:0 15px 35px rgba(0,255,255,0.7);}
#card-interpretation {margin-top:20px; min-height:160px; max-width:500px; text-align:left; font-size:16px; line-height:1.8; opacity:0; transition:opacity 0.7s; text-shadow:0 0 5px #0ff,0 0 10px #0ff; padding:10px; background:rgba(0,0,0,0.3); border-radius:10px;}
#card-interpretation.show {opacity:1;}
#user-question {margin-top:15px; width:90%; max-width:360px;}
.particle {position:absolute; width:3px; height:3px; background:rgba(0,255,255,0.5); border-radius:50%; animation: float 5s linear infinite;}
@keyframes float {0%{transform:translateY(0) translateX(0); opacity:0.2;}50%{opacity:1;}100%{transform:translateY(-600px) translateX(50px); opacity:0;}}
</style>
</head>
<body>
<h1>Taroteker</h1>
<div id="input-container">
<label>Doğum Tarihiniz:</label>
<input type="date" id="birthdate">
<label>Fal Açılımı Seçin:</label>
<select id="spread">
  <option value="1">Tek Kart</option>
  <option value="3">3 Kart</option>
  <option value="5">5 Kart</option>
</select>
<button id="selectCardsBtn">Kartları Hazırla</button>
</div>

<div id="tarot-container"></div>

<div id="user-question">
<label>Sorunuzu yazın (opsiyonel):</label>
<textarea id="question" rows="2" placeholder="Fal bakarken sorunuz..."></textarea>
<button id="askBtn">Fal Yorumla</button>
</div>

<div id="card-interpretation"></div>
<audio id="card-sound" src="https://freesound.org/data/previews/341/341695_5260875-lq.mp3"></audio>

<script>
// Kart verileri + görseller + detaylı hikaye varyasyonları
const cards=[
{name:"Kupa Ası", meanings:[
  "Kalbinizde yeni umutlar filizleniyor. Bugün, sevgi ve heyecan dolu anlar sizi bekliyor.",
  "Duygusal enerjiniz çevrenizdekilerle paylaştığınızda, hayatınıza mutluluk getirecek.",
  "Kendi içsel dünyanızı keşfetmek için güzel bir gün. Kalbinizin sesini dinleyin.",
  "Sevgi dolu sürprizler sizi bekliyor; bu dönem hislerinizle uyumlu olacak.",
  "Yeni ilişkiler veya mevcut ilişkilerde derin bağlar oluşabilir."
], img:"https://upload.wikimedia.org/wikipedia/commons/2/2f/Cups_Ace.png"},
{name:"Sinek Üçü", meanings:[
  "Karşılaştığınız engeller, sabırla ilerlemeniz halinde sizi ödüllendirecek.",
  "Yeni fırsatlar ve iş birlikleri ufukta. Dikkatli planlama önemli.",
  "Sosyal çevreniz ve arkadaşlıklarınız, sizi beklenmedik mutluluklarla buluşturacak.",
  "Birlikte çalıştığınız kişilerden destek görebilirsiniz.",
  "Zorluklar, gelişiminiz için gerekli adımlar olabilir."
], img:"https://upload.wikimedia.org/wikipedia/commons/1/18/Wands_Three.png"},
{name:"Kılıç On", meanings:[
  "Geçmişin yüklerinden arınma zamanı. Bu süreci kabullenmek sizi olgunlaştıracak.",
  "Zor günler geride kaldı, yeni başlangıçlar için hazırsınız.",
  "Yaşanan kayıplar, size yeni bir perspektif kazandıracak.",
  "Bu dönem zihinsel olarak yoğun ama sonrasında huzur bulacaksınız.",
  "Eski alışkanlıklarınızı bırakmak hayatınıza denge getirecek."
], img:"https://upload.wikimedia.org/wikipedia/commons/f/f2/Swords_Ten.png"},
{name:"Tılsım Beş", meanings:[
  "Maddi endişeler geçici; dengeyi bulmak sizin elinizde.",
  "Küçük kayıplar, büyük kazançlara dönüşebilir.",
  "Fırsatları değerlendirmek için dikkatli olun, bolluk kapıda.",
  "Hayatınızdaki dengesizlikleri çözmek için adım atın.",
  "Geçmişe takılmadan, geleceğe odaklanın."
], img:"https://upload.wikimedia.org/wikipedia/commons/4/46/Pentacles_Five.png"},
{name:"Kupa On", meanings:[
  "Mutluluk ve tamamlanmış bir döneme giriyorsunuz. Sevdiklerinizle paylaşılan anlar değerli olacak.",
  "Sevgi ve uyum hayatınızda ön plana çıkıyor.",
  "Geçmiş deneyimler sizi bugünkü mutluluğa taşıdı.",
  "Aile ve arkadaş çevresiyle olan bağlar güçleniyor.",
  "Duygusal tatmin ve huzur dolu bir dönem."
], img:"https://upload.wikimedia.org/wikipedia/commons/4/46/Cups_Ten.png"}
];

// Rastgele hikaye üretimi (daha akışkan, detaylı)
function generateStory(cards,userBirth,question){
  const birthText = userBirth ? `Doğum tarihin ${userBirth}, astrolojik ve numerolojik etkilerle yorumlandı.` : '';
  const questionText = question ? `Sorunuza göre özel analiz: "${question}".` : 'Genel fal hikayeniz aşağıda:';
  const cardMeanings = cards.map(c=>{
    const idx = Math.floor(Math.random()*c.meanings.length);
    return `<p><strong>${c.name}:</strong> ${c.meanings[idx]}</p>`;
  }).join("");
  return `<div>${birthText}</div><div>${questionText}</div>${cardMeanings}`;
}

let selectedCards=[];
window.addEventListener("DOMContentLoaded",()=>{
const container=document.getElementById("tarot-container");
const interpretation=document.getElementById("card-interpretation");
const sound=document.getElementById("card-sound");
const selectCardsBtn=document.getElementById("selectCardsBtn");
const askBtn=document.getElementById("askBtn");
const spreadSelect=document.getElementById("spread");
const birthInput=document.getElementById("birthdate");
const questionInput=document.getElementById("question");

// Partikül efekti
for(let i=0;i<40;i++){
const p=document.createElement('div');
p.className='particle';
p.style.left=Math.random()*100+'vw';
p.style.animationDelay=Math.random()*5+'s';
p.style.width=p.style.height=(2+Math.random()*3)+'px';
document.body.appendChild(p);
}

// Kartları hazırla
function prepareCards(){
  container.innerHTML='';
  interpretation.classList.remove("show");
  selectedCards=[];
  const count=parseInt(spreadSelect.value);
  let usedIndexes=[];
  for(let i=0;i<count;i++){
    let idx;
    do {idx=Math.floor(Math.random()*cards.length);} while(usedIndexes.includes(idx));
    usedIndexes.push(idx);
    const card=cards[idx];
    selectedCards.push(card);

    const cardDiv=document.createElement('div');
    cardDiv.className='card';
    cardDiv.innerHTML='?';
    container.appendChild(cardDiv);

    cardDiv.addEventListener("click",()=>{
      cardDiv.classList.add('flipped');
      cardDiv.style.background=`url('${card.img}') no-repeat center/cover`;
      cardDiv.innerHTML='';
      sound.currentTime=0; sound.play();
    });
  }
}

// Yeni kart seçme düğmesi
selectCardsBtn.addEventListener("click",prepareCards);

// Fal yorumla düğmesi
askBtn.addEventListener("click",()=>{
  if(selectedCards.length===0){alert("Önce kartları seçin!"); return;}
  const userBirth = birthInput.value || '';
  const questionText = questionInput.value || '';
  interpretation.innerHTML="Fal yorumlanıyor, lütfen bekleyin...";
  interpretation.classList.add('show');
  window.scrollTo({ top: interpretation.offsetTop-20, behavior: 'smooth' });
  setTimeout(()=>{
    const story = generateStory(selectedCards,userBirth,questionText);
    interpretation.innerHTML = story;
  },500);
});

});
</script>
</body>
</html>
